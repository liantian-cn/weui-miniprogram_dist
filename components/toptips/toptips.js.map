{"version":3,"file":"components\\toptips\\toptips.js","sources":["webpack:///./src/components/toptips/toptips.ts?a329","webpack:///./src/components/toptips/toptips.ts"],"sourcesContent":["module.exports = require(\"!./toptips.ts\")","const typeClassMap = {\r\n    warn: 'weui-toptips_warn',\r\n    info: 'weui-toptips_info',\r\n    success: 'weui-toptips_success',\r\n    error: 'weui-toptips_error'\r\n}\r\n\r\nComponent({\r\n    options: {\r\n        addGlobalClass: true\r\n    },\r\n    properties: {\r\n        type: {\r\n            type: String,\r\n            value: 'error',\r\n            observer: '_typeChange'\r\n        },\r\n        show: {\r\n            type: Boolean,\r\n            value: false,\r\n            observer: '_showChange'\r\n        },\r\n        msg: {\r\n            type: String,\r\n            value: ''\r\n        },\r\n        delay: {\r\n            type: Number,\r\n            value: 2000\r\n        },\r\n        extClass: {\r\n            type: String,\r\n            value: ''\r\n        }\r\n    },\r\n    data: {\r\n        wrapperShow: false,\r\n        innerShow: false\r\n    },\r\n    lifetimes: {\r\n        ready() {\r\n            this._showChange(this.data.show)\r\n        },\r\n        attached() {\r\n            this._typeChange(this.data.type)\r\n        }\r\n    },\r\n    methods: {\r\n        _typeChange(type) {\r\n            this.setData({\r\n                className: typeClassMap[type] || ''\r\n            })\r\n        },\r\n        _showChange(show) {\r\n            if (show) {\r\n                this._showToptips()\r\n            } else {\r\n                this._hideToptips()\r\n            }\r\n        },\r\n        _showToptips() {\r\n            if (this.data.delay) {\r\n                setTimeout(() => {\r\n                    this._hideToptips()\r\n                    this.setData(\r\n                        {\r\n                            show: false\r\n                        },\r\n                        () => {\r\n                            // tooltips 隐藏了，触发 hide 事件\r\n                            this.triggerEvent('hide', {}, {})\r\n                        }\r\n                    )\r\n                }, this.data.delay)\r\n            }\r\n            this.setData({\r\n                wrapperShow: true,\r\n                innerShow: true\r\n            })\r\n        },\r\n        _hideToptips() {\r\n            if (!this.data.innerShow) return\r\n            this.setData({ innerShow: false })\r\n            setTimeout(() => {\r\n                this.setData({ wrapperShow: false })\r\n            }, 300)\r\n        }\r\n    }\r\n})\r\n"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAnBA;AAwBA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AADA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAvCA;AAxCA;;;;;;;;","sourceRoot":""}