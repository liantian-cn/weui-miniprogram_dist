{"version":3,"file":"example\\form\\form.js","sources":["webpack:///./src/example/form/form.js?d2a7","webpack:///./src/example/form/form.js"],"sourcesContent":["module.exports = require(\"!./form.js\")","import CustomPage from '../../base/CustomPage'\r\n\r\nCustomPage({\r\n    data: {\r\n        showTopTips: false,\r\n\r\n        radioItems: [\r\n            {name: 'cell standard', value: '0', checked: true},\r\n            {name: 'cell standard', value: '1'}\r\n        ],\r\n        checkboxItems: [\r\n            {name: 'standard is dealt for u.', value: '0', checked: true},\r\n            {name: 'standard is dealicient for u.', value: '1'}\r\n        ],\r\n        items: [\r\n            {name: 'USA', value: '美国'},\r\n            {name: 'CHN', value: '中国', checked: 'true'},\r\n            {name: 'BRA', value: '巴西'},\r\n            {name: 'JPN', value: '日本'},\r\n            {name: 'ENG', value: '英国'},\r\n            {name: 'TUR', value: '法国'},\r\n        ],\r\n\r\n        date: \"2016-09-01\",\r\n        time: \"12:01\",\r\n\r\n        countryCodes: [\"+86\", \"+80\", \"+84\", \"+87\"],\r\n        countryCodeIndex: 0,\r\n\r\n        countries: [\"中国\", \"美国\", \"英国\"],\r\n        countryIndex: 0,\r\n\r\n        accounts: [\"微信号\", \"QQ\", \"Email\"],\r\n        accountIndex: 0,\r\n\r\n        isAgree: false,\r\n        formData: {\r\n\r\n        },\r\n        rules: [{\r\n            name: 'radio',\r\n            rules: {required: false, message: '单选列表是必选项'},\r\n        }, {\r\n            name: 'checkbox',\r\n            rules: {required: true, message: '多选列表是必选项'},\r\n        }, {\r\n            name: 'name',\r\n            rules: {required: true, message: '请输入姓名'},\r\n        }, {\r\n            name: 'qq',\r\n            rules: {required: true, message: 'qq必填'},\r\n        }, {\r\n            name: 'mobile',\r\n            rules: [{required: true, message: 'mobile必填'}, {mobile: true, message: 'mobile格式不对'}],\r\n        }, {\r\n            name: 'vcode',\r\n            rules: {required: true, message: '验证码必填'},\r\n        }, {\r\n            name: 'idcard',\r\n            rules: {validator: function(rule, value, param, modeels) {\r\n                if (!value || value.length !== 18) {\r\n                    return 'idcard格式不正确'\r\n                }\r\n            }},\r\n        }]\r\n    },\r\n    radioChange: function (e) {\r\n        console.log('radio发生change事件，携带value值为：', e.detail.value);\r\n\r\n        var radioItems = this.data.radioItems;\r\n        for (var i = 0, len = radioItems.length; i < len; ++i) {\r\n            radioItems[i].checked = radioItems[i].value == e.detail.value;\r\n        }\r\n\r\n        this.setData({\r\n            radioItems: radioItems,\r\n            [`formData.radio`]: e.detail.value\r\n        });\r\n    },\r\n    checkboxChange: function (e) {\r\n        console.log('checkbox发生change事件，携带value值为：', e.detail.value);\r\n\r\n        var checkboxItems = this.data.checkboxItems, values = e.detail.value;\r\n        for (var i = 0, lenI = checkboxItems.length; i < lenI; ++i) {\r\n            checkboxItems[i].checked = false;\r\n\r\n            for (var j = 0, lenJ = values.length; j < lenJ; ++j) {\r\n                if(checkboxItems[i].value == values[j]){\r\n                    checkboxItems[i].checked = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setData({\r\n            checkboxItems: checkboxItems,\r\n            [`formData.checkbox`]: e.detail.value\r\n        });\r\n    },\r\n    bindDateChange: function (e) {\r\n        this.setData({\r\n            date: e.detail.value,\r\n            [`formData.date`]: e.detail.value\r\n        })\r\n    },\r\n    formInputChange(e) {\r\n        const {field} = e.currentTarget.dataset\r\n        this.setData({\r\n            [`formData.${field}`]: e.detail.value\r\n        })\r\n    },\r\n    bindTimeChange: function (e) {\r\n        this.setData({\r\n            time: e.detail.value\r\n        })\r\n    },\r\n    bindCountryCodeChange: function(e){\r\n        console.log('picker country code 发生选择改变，携带值为', e.detail.value);\r\n\r\n        this.setData({\r\n            countryCodeIndex: e.detail.value\r\n        })\r\n    },\r\n    bindCountryChange: function(e) {\r\n        console.log('picker country 发生选择改变，携带值为', e.detail.value);\r\n\r\n        this.setData({\r\n            countryIndex: e.detail.value\r\n        })\r\n    },\r\n    bindAccountChange: function(e) {\r\n        console.log('picker account 发生选择改变，携带值为', e.detail.value);\r\n\r\n        this.setData({\r\n            accountIndex: e.detail.value\r\n        })\r\n    },\r\n    bindAgreeChange: function (e) {\r\n        this.setData({\r\n            isAgree: !!e.detail.value.length\r\n        });\r\n    },\r\n    submitForm() {\r\n        this.selectComponent('#form').validate((valid, errors) => {\r\n            console.log('valid', valid, errors)\r\n            if (!valid) {\r\n                const firstError = Object.keys(errors)\r\n                if (firstError.length) {\r\n                    this.setData({\r\n                        error: errors[firstError[0]].message\r\n                    })\r\n\r\n                }\r\n            } else {\r\n                wx.showToast({\r\n                    title: '校验通过'\r\n                })\r\n            }\r\n        })\r\n        // this.selectComponent('#form').validateField('mobile', (valid, errors) => {\r\n        //     console.log('valid', valid, errors)\r\n        // })\r\n    }\r\n});"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAtDA;AA+DA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AAEA;AACA;AACA;AAhKA;;;;;;;;","sourceRoot":""}